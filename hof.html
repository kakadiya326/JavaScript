<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Higher Order Function -in built </title>
</head>

<body>
    <script>
        /*
            map() always returns a new array
            âœ” It does not change the original array
            âœ” Length of new array is always equal to original array
            âœ” return is required (except in implicit return)
        */

        arr = [1, 2, 3, 4, 6, 7]
        let newArr = arr.map((val, ind, arr) => {
            return val + val;
        })
        console.log([...newArr]);

        let newArr1 = arr.map((val, ind, arr) => {
            return ind;
        })
        console.log(newArr1);
        let newArr2 = arr.map((val, ind, arr) => {
            return arr;
        })
        console.log(newArr2);

        //Create object of arr value and index
        let obj = arr.map((val, ind) => ({
            value: val,
            index: ind
        }))
        console.log('Create object of arr value and index ', obj);

        //convert number to string
        let str = arr.map(String);
        console.log('convert number to string ', str);
        //convert string to number
        let numberss = ['1', '2', '3', '46', '768', '345', '67', '23', '78', '3', '67', '23'];
        let toNum = numberss.map(Number)
        console.log('convert string to number ', toNum);


        //object's val 
        const users1212 = [
            { name: "A", age: 20 },
            { name: "B", age: 25 },
        ];

        const names = users1212.map((data) => {
            return data.name
        });

        console.log('object\'s val  ', names);


        //chain map
        const result1212 = arr
            .map(v => v * 2)
            .map(v => v + 1);
        console.log('chain map ', result1212);

        //clone array
        const clone = arr.map(v => v);
        console.log('clone array ', clone);

    </script>
    <script>
        /*
            filter() loops through an array and returns only those elements that match a given condition.

            ðŸ“Œ It does not modify the original array
            ðŸ“Œ It returns a new array
            ðŸ“Œ It uses a true / false condition

        */
        var arr = [1, 2, 3, 4, 5, 6, 7, 8, 9]
        //Filter
        let filtered = arr.filter((val, ind, arr) => {
            return val % 2 == 0;
        });
        console.log('Filtered -> ', filtered);

        var data = [
            {
                name: 'Chiranj',
                age: 23,
                marks: 80,
            },
            {
                name: 'Patel',
                age: 20,
                marks: 20,
            },
            {
                name: 'Chiranj Patel',
                age: 18,
                marks: 30,
            },
            {
                name: 'Chiranj Kakadiya',
                age: 40,
                marks: 85,
            },
        ];
        //Filter array of object by marks
        var filterObj = data.filter((val) => {
            return val.marks > 50;
        })
        console.log('Filter marks -> ', filterObj);

        //Filter array of object by age
        var filterAge = data.filter(val => val.age >= 23)
        console.log('Filter age -> ', filterAge);

    </script>
    <script>
        let arr1212 = [1, 2, 3, 4, 5, 6, 7, 8, 9];
        var c = 0
        let sum = arr1212.reduce((acc, val) => {
            return acc + val
        }, 0);
        console.log(sum);

        //frequency count of array of string 
        let fruits = ["apple", "banana", "apple", "orange", "apple"];

        let count = fruits.reduce((acc, val) => {
            acc[val] = (acc[val] || 0) + 1;
            return acc;
        }, {});

        console.log(count);

    </script>

    <script>
        /*
            sort() is a JavaScript array method used to sort elements of an array 
            in place (it modifies the original array).

            âš  Important Note
            By default, sort() converts elements to strings and sorts alphabetically (lexicographically).

            */

        let nums12 = [10, 2, 5, 100];
        console.log('wrong way to sort number -> ', nums12.sort()) // this will convert number to string then compare string

        let nums112 = [10, 2, 5, 100];
        console.log('correct way to sort number -> ', nums112.sort((a, b) => a - b))// ascending
        console.log('correct way to sort number -> ', nums112.sort((a, b) => b - a))// descending


        //sort array
        let words12 = ["Banana", "Apple", "carrot"];
        console.log('word sorting ', words12.sort());
        console.log('Case-insensitive sorting ', words12.sort((a, b) => a.localeCompare(b))); //Case-insensitive sorting


        //Sort object
        let students = [
            { name: "A", age: 22 },
            { name: "C", age: 18 },
            { name: "B", age: 20 }
        ];

        console.log('Object sorting by age ascending', students.sort((a, b) => a.age - b.age));//ascending
        console.log('Object sorting by age descending', students.sort((a, b) => b.age - a.age));//descending

        //sorted copy
        let arr12 = [5, 1, 4, 3];
        let sortedCopy = [...arr12].sort((a, b) => a - b);
        console.log('Original array ', arr12);
        console.log('Copy of Original  ', sortedCopy);

    </script>

    <script>
        /*
            JavaScript some() method

            The some() method is a Higher-Order Function (HOF) in JavaScript used 
                to check if at least one element in an array passes a given test (condition).

            âœ” It returns true if any element satisfies the condition
            âœ” It returns false if no elements satisfy the condition
            âŒ It does not modify the original array
        
        
        */

        let arr = [1, 3, 5, 7, 9, 10];

        let someOfResult = arr.some((val) => val % 2 === 0);
        let everyOfResult = arr.every((val) => val % 2 === 0);

        console.log(someOfResult); // true
        console.log(everyOfResult); // false


        //Check atleast 5 length words is there.
        let words = ["cat", "banana", "dog"];

        let check = words.some(w => w.length > 5);

        console.log(check); // true


        //Check 18+ age is there or not.
        let users = [
            { name: "A", age: 20 },
            { name: "B", age: 17 },
            { name: "C", age: 25 }
        ];

        let hasAdult = users.some(user => user.age >= 18);

        console.log(hasAdult); // true


        /*
            ðŸŒŸ JavaScript every() Method

            The every() method checks if all elements in an array pass a condition.

            âœ” Returns true only if every element satisfies the condition
            âŒ Returns false immediately when one element fails
            ðŸ”¹ Does not modify the original array

        */


        //Check if all numbers are even
        let nums = [2, 4, 6, 8];

        let result = nums.every(n => n % 2 === 0);

        console.log(result); // true


        //If one fails
        let nums1 = [2, 4, 5, 8];

        let result1 = nums1.every(n => n % 2 === 0);

        console.log(result1); // false

        //Validate student pass status
        let marks = [40, 50, 60, 70];

        let allPassed = marks.every(m => m >= 35);

        console.log(allPassed); // true

        //Using every() with objects
        let users1 = [
            { name: "A", age: 20 },
            { name: "B", age: 25 },
            { name: "C", age: 18 }
        ];

        let isAdult = users1.every(user => user.age >= 18);

        console.log(isAdult); // true


    </script>

</body>

</html>